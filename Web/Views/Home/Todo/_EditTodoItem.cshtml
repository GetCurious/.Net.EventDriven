@using dotnet.EventDriven.Constant.Models

@model Todo

<tr class="align-middle" hx-target="closest tr" hx-swap="outerHTML">
    @Html.HiddenFor(m => m.Id)
    <td>
        @Html.TextBoxFor(m => m.Title)
        <small class="d-block">
            @Html.ValidationMessageFor(m => m.Title, "", new { @class = "text-danger" })
        </small>
    </td>
    <td>
        @Html.CheckBoxFor(m => m.IsCompleted)
    </td>
    <td>
        @if (Model.Id == Guid.Empty)
        {
            <button class="btn btn-primary" hx-post="@Url.Action("CreateTodo")" hx-include="closest tr">
                Save
            </button>
        }
        else
        {
            <button class="btn btn-primary" hx-put="@Url.Action("UpdateTodo")" hx-include="closest tr">
                Save
            </button>
        }
        <button class="btn btn-outline-secondary" hx-get="@Url.Action("GetTodo", new  { id = Model.Id })">
            Cancel
        </button>
    </td>
</tr>